fix file 

made some more fixes

one more bug detected and fixed

